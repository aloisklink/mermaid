> **Warning**
>
> ## THIS IS AN AUTOGENERATED FILE. DO NOT EDIT.
>
> ## Please edit the corresponding file in [/packages/mermaid/src/docs/config/setup/modules/mermaidAPI.md](../../../../packages/mermaid/src/docs/config/setup/modules/mermaidAPI.md).

# Module: mermaidAPI

## Interfaces

- [ParseOptions](../interfaces/mermaidAPI.ParseOptions.md)
- [RenderResult](../interfaces/mermaidAPI.RenderResult.md)

## References

### default

Renames and re-exports [mermaidAPI](mermaidAPI.md#mermaidapi)

## Type Aliases

### D3Element

Ƭ **D3Element**: `any`

#### Defined in

[mermaidAPI.ts:81](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L81)

## Variables

### mermaidAPI

• `Const` **mermaidAPI**: `Readonly`<{ `defaultConfig`: `MermaidConfig` = configApi.defaultConfig; `getConfig`: () => `MermaidConfig` = configApi.getConfig; `getDiagramFromText`: (`text`: `string`) => `Promise`<`Diagram`> ; `getSiteConfig`: () => `MermaidConfig` = configApi.getSiteConfig; `globalReset`: () => `void` ; `initialize`: (`options`: { `altFontFamily?`: `string` ; `arrowMarkerAbsolute?`: `boolean` ; `c4?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; c4ShapeMargin?: number | undefined; c4ShapePadding?: number | undefined; width?: number | undefined; height?: number | undefined; ... 135 more ...; useMaxWidth?: boolean | undefined; } ; `class?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; dividerMargin?: number | undefined; padding?: number | undefined; textHeight?: number | undefined; ... 6 more ...; useMaxWidth?: boolean | undefined; } ; `darkMode?`: `boolean` ; `deterministicIDSeed?`: `string` ; `deterministicIds?`: `boolean` ; `dompurifyConfig?`: { ADD_ATTR?: (string | undefined)\[] | undefined; ADD_DATA_URI_TAGS?: (string | undefined)\[] | undefined; ADD_TAGS?: (string | undefined)\[] | undefined; ADD_URI_SAFE_ATTR?: (string | undefined)\[] | undefined; ... 25 more ...; CUSTOM_ELEMENT_HANDLING?: { ...; } | undefined; } ; `er?`: { titleTopMargin?: number | undefined; diagramPadding?: number | undefined; layoutDirection?: string | undefined; minEntityWidth?: number | undefined; minEntityHeight?: number | undefined; ... 5 more ...; useMaxWidth?: boolean | undefined; } ; `flowchart?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; diagramPadding?: number | undefined; htmlLabels?: boolean | undefined; nodeSpacing?: number | undefined; ... 6 more ...; useMaxWidth?: boolean | undefined; } ; `fontFamily?`: `string` ; `fontSize?`: `number` ; `gantt?`: { titleTopMargin?: number | undefined; barHeight?: number | undefined; barGap?: number | undefined; topPadding?: number | undefined; rightPadding?: number | undefined; leftPadding?: number | undefined; ... 10 more ...; useMaxWidth?: boolean | undefined; } ; `gitGraph?`: { titleTopMargin?: number | undefined; diagramPadding?: number | undefined; nodeLabel?: { width?: number | undefined; height?: number | undefined; x?: number | undefined; y?: number | undefined; } | undefined; ... 7 more ...; useMaxWidth?: boolean | undefined; } ; `htmlLabels?`: `boolean` ; `journey?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; leftMargin?: number | undefined; width?: number | undefined; height?: number | undefined; boxMargin?: number | undefined; ... 15 more ...; useMaxWidth?: boolean | undefined; } ; `logLevel?`: `string` | `number` ; `maxTextSize?`: `number` ; `mindmap?`: { padding?: number | undefined; maxNodeWidth?: number | undefined; useWidth?: number | undefined; useMaxWidth?: boolean | undefined; } ; `pie?`: { textPosition?: number | undefined; useWidth?: number | undefined; useMaxWidth?: boolean | undefined; } ; `quadrantChart?`: { chartWidth?: number | undefined; chartHeight?: number | undefined; titleFontSize?: number | undefined; titlePadding?: number | undefined; quadrantPadding?: number | undefined; ... 14 more ...; useMaxWidth?: boolean | undefined; } ; `requirement?`: { rect_fill?: string | undefined; text_color?: string | undefined; rect_border_size?: string | undefined; rect_border_color?: string | undefined; rect_min_width?: number | undefined; ... 5 more ...; useMaxWidth?: boolean | undefined; } ; `sankey?`: { width?: number | undefined; height?: number | undefined; linkColor?: string | undefined; nodeAlignment?: "left" | "right" | "center" | "justify" | undefined; useMaxWidth?: boolean | undefined; useWidth?: number | undefined; } ; `secure?`: (`undefined` | `string`)\[] ; `securityLevel?`: `string` ; `sequence?`: { arrowMarkerAbsolute?: boolean | undefined; hideUnusedParticipants?: boolean | undefined; activationWidth?: number | undefined; diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; ... 31 more ...; useMaxWidth?: boolean | undefined; } ; `startOnLoad?`: `boolean` ; `state?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; dividerMargin?: number | undefined; sizeUnit?: number | undefined; padding?: number | undefined; ... 14 more ...; useMaxWidth?: boolean | undefined; } ; `theme?`: `string` ; `themeCSS?`: `string` ; `themeVariables?`: `any` ; `timeline?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; leftMargin?: number | undefined; width?: number | undefined; height?: number | undefined; padding?: number | undefined; ... 17 more ...; useMaxWidth?: boolean | undefined; } ; `wrap?`: `boolean` }) => `void` ; `parse`: (`text`: `string`, `parseOptions?`: [`ParseOptions`](../interfaces/mermaidAPI.ParseOptions.md)) => `Promise`<`boolean`> ; `parseDirective`: (`p`: `any`, `statement`: `string`, `context`: `string`, `type`: `string`) => `void` ; `render`: (`id`: `string`, `text`: `string`, `svgContainingElement?`: `Element`) => `Promise`<[`RenderResult`](../interfaces/mermaidAPI.RenderResult.md)> ; `reset`: () => `void` ; `setConfig`: (`conf`: { `altFontFamily?`: `string` ; `arrowMarkerAbsolute?`: `boolean` ; `c4?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; c4ShapeMargin?: number | undefined; c4ShapePadding?: number | undefined; width?: number | undefined; height?: number | undefined; ... 135 more ...; useMaxWidth?: boolean | undefined; } ; `class?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; dividerMargin?: number | undefined; padding?: number | undefined; textHeight?: number | undefined; ... 6 more ...; useMaxWidth?: boolean | undefined; } ; `darkMode?`: `boolean` ; `deterministicIDSeed?`: `string` ; `deterministicIds?`: `boolean` ; `dompurifyConfig?`: { ADD_ATTR?: (string | undefined)\[] | undefined; ADD_DATA_URI_TAGS?: (string | undefined)\[] | undefined; ADD_TAGS?: (string | undefined)\[] | undefined; ADD_URI_SAFE_ATTR?: (string | undefined)\[] | undefined; ... 25 more ...; CUSTOM_ELEMENT_HANDLING?: { ...; } | undefined; } ; `er?`: { titleTopMargin?: number | undefined; diagramPadding?: number | undefined; layoutDirection?: string | undefined; minEntityWidth?: number | undefined; minEntityHeight?: number | undefined; ... 5 more ...; useMaxWidth?: boolean | undefined; } ; `flowchart?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; diagramPadding?: number | undefined; htmlLabels?: boolean | undefined; nodeSpacing?: number | undefined; ... 6 more ...; useMaxWidth?: boolean | undefined; } ; `fontFamily?`: `string` ; `fontSize?`: `number` ; `gantt?`: { titleTopMargin?: number | undefined; barHeight?: number | undefined; barGap?: number | undefined; topPadding?: number | undefined; rightPadding?: number | undefined; leftPadding?: number | undefined; ... 10 more ...; useMaxWidth?: boolean | undefined; } ; `gitGraph?`: { titleTopMargin?: number | undefined; diagramPadding?: number | undefined; nodeLabel?: { width?: number | undefined; height?: number | undefined; x?: number | undefined; y?: number | undefined; } | undefined; ... 7 more ...; useMaxWidth?: boolean | undefined; } ; `htmlLabels?`: `boolean` ; `journey?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; leftMargin?: number | undefined; width?: number | undefined; height?: number | undefined; boxMargin?: number | undefined; ... 15 more ...; useMaxWidth?: boolean | undefined; } ; `logLevel?`: `string` | `number` ; `maxTextSize?`: `number` ; `mindmap?`: { padding?: number | undefined; maxNodeWidth?: number | undefined; useWidth?: number | undefined; useMaxWidth?: boolean | undefined; } ; `pie?`: { textPosition?: number | undefined; useWidth?: number | undefined; useMaxWidth?: boolean | undefined; } ; `quadrantChart?`: { chartWidth?: number | undefined; chartHeight?: number | undefined; titleFontSize?: number | undefined; titlePadding?: number | undefined; quadrantPadding?: number | undefined; ... 14 more ...; useMaxWidth?: boolean | undefined; } ; `requirement?`: { rect_fill?: string | undefined; text_color?: string | undefined; rect_border_size?: string | undefined; rect_border_color?: string | undefined; rect_min_width?: number | undefined; ... 5 more ...; useMaxWidth?: boolean | undefined; } ; `sankey?`: { width?: number | undefined; height?: number | undefined; linkColor?: string | undefined; nodeAlignment?: "left" | "right" | "center" | "justify" | undefined; useMaxWidth?: boolean | undefined; useWidth?: number | undefined; } ; `secure?`: (`undefined` | `string`)\[] ; `securityLevel?`: `string` ; `sequence?`: { arrowMarkerAbsolute?: boolean | undefined; hideUnusedParticipants?: boolean | undefined; activationWidth?: number | undefined; diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; ... 31 more ...; useMaxWidth?: boolean | undefined; } ; `startOnLoad?`: `boolean` ; `state?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; dividerMargin?: number | undefined; sizeUnit?: number | undefined; padding?: number | undefined; ... 14 more ...; useMaxWidth?: boolean | undefined; } ; `theme?`: `string` ; `themeCSS?`: `string` ; `themeVariables?`: `any` ; `timeline?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; leftMargin?: number | undefined; width?: number | undefined; height?: number | undefined; padding?: number | undefined; ... 17 more ...; useMaxWidth?: boolean | undefined; } ; `wrap?`: `boolean` }) => `MermaidConfig` = configApi.setConfig; `updateSiteConfig`: (`conf`: { `altFontFamily?`: `string` ; `arrowMarkerAbsolute?`: `boolean` ; `c4?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; c4ShapeMargin?: number | undefined; c4ShapePadding?: number | undefined; width?: number | undefined; height?: number | undefined; ... 135 more ...; useMaxWidth?: boolean | undefined; } ; `class?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; dividerMargin?: number | undefined; padding?: number | undefined; textHeight?: number | undefined; ... 6 more ...; useMaxWidth?: boolean | undefined; } ; `darkMode?`: `boolean` ; `deterministicIDSeed?`: `string` ; `deterministicIds?`: `boolean` ; `dompurifyConfig?`: { ADD_ATTR?: (string | undefined)\[] | undefined; ADD_DATA_URI_TAGS?: (string | undefined)\[] | undefined; ADD_TAGS?: (string | undefined)\[] | undefined; ADD_URI_SAFE_ATTR?: (string | undefined)\[] | undefined; ... 25 more ...; CUSTOM_ELEMENT_HANDLING?: { ...; } | undefined; } ; `er?`: { titleTopMargin?: number | undefined; diagramPadding?: number | undefined; layoutDirection?: string | undefined; minEntityWidth?: number | undefined; minEntityHeight?: number | undefined; ... 5 more ...; useMaxWidth?: boolean | undefined; } ; `flowchart?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; diagramPadding?: number | undefined; htmlLabels?: boolean | undefined; nodeSpacing?: number | undefined; ... 6 more ...; useMaxWidth?: boolean | undefined; } ; `fontFamily?`: `string` ; `fontSize?`: `number` ; `gantt?`: { titleTopMargin?: number | undefined; barHeight?: number | undefined; barGap?: number | undefined; topPadding?: number | undefined; rightPadding?: number | undefined; leftPadding?: number | undefined; ... 10 more ...; useMaxWidth?: boolean | undefined; } ; `gitGraph?`: { titleTopMargin?: number | undefined; diagramPadding?: number | undefined; nodeLabel?: { width?: number | undefined; height?: number | undefined; x?: number | undefined; y?: number | undefined; } | undefined; ... 7 more ...; useMaxWidth?: boolean | undefined; } ; `htmlLabels?`: `boolean` ; `journey?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; leftMargin?: number | undefined; width?: number | undefined; height?: number | undefined; boxMargin?: number | undefined; ... 15 more ...; useMaxWidth?: boolean | undefined; } ; `logLevel?`: `string` | `number` ; `maxTextSize?`: `number` ; `mindmap?`: { padding?: number | undefined; maxNodeWidth?: number | undefined; useWidth?: number | undefined; useMaxWidth?: boolean | undefined; } ; `pie?`: { textPosition?: number | undefined; useWidth?: number | undefined; useMaxWidth?: boolean | undefined; } ; `quadrantChart?`: { chartWidth?: number | undefined; chartHeight?: number | undefined; titleFontSize?: number | undefined; titlePadding?: number | undefined; quadrantPadding?: number | undefined; ... 14 more ...; useMaxWidth?: boolean | undefined; } ; `requirement?`: { rect_fill?: string | undefined; text_color?: string | undefined; rect_border_size?: string | undefined; rect_border_color?: string | undefined; rect_min_width?: number | undefined; ... 5 more ...; useMaxWidth?: boolean | undefined; } ; `sankey?`: { width?: number | undefined; height?: number | undefined; linkColor?: string | undefined; nodeAlignment?: "left" | "right" | "center" | "justify" | undefined; useMaxWidth?: boolean | undefined; useWidth?: number | undefined; } ; `secure?`: (`undefined` | `string`)\[] ; `securityLevel?`: `string` ; `sequence?`: { arrowMarkerAbsolute?: boolean | undefined; hideUnusedParticipants?: boolean | undefined; activationWidth?: number | undefined; diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; ... 31 more ...; useMaxWidth?: boolean | undefined; } ; `startOnLoad?`: `boolean` ; `state?`: { titleTopMargin?: number | undefined; arrowMarkerAbsolute?: boolean | undefined; dividerMargin?: number | undefined; sizeUnit?: number | undefined; padding?: number | undefined; ... 14 more ...; useMaxWidth?: boolean | undefined; } ; `theme?`: `string` ; `themeCSS?`: `string` ; `themeVariables?`: `any` ; `timeline?`: { diagramMarginX?: number | undefined; diagramMarginY?: number | undefined; leftMargin?: number | undefined; width?: number | undefined; height?: number | undefined; padding?: number | undefined; ... 17 more ...; useMaxWidth?: boolean | undefined; } ; `wrap?`: `boolean` }) => `MermaidConfig` = configApi.updateSiteConfig }>

## mermaidAPI configuration defaults

```ts
const config = {
  theme: 'default',
  logLevel: 'fatal',
  securityLevel: 'strict',
  startOnLoad: true,
  arrowMarkerAbsolute: false,

  er: {
    diagramPadding: 20,
    layoutDirection: 'TB',
    minEntityWidth: 100,
    minEntityHeight: 75,
    entityPadding: 15,
    stroke: 'gray',
    fill: 'honeydew',
    fontSize: 12,
    useMaxWidth: true,
  },
  flowchart: {
    diagramPadding: 8,
    htmlLabels: true,
    curve: 'basis',
  },
  sequence: {
    diagramMarginX: 50,
    diagramMarginY: 10,
    actorMargin: 50,
    width: 150,
    height: 65,
    boxMargin: 10,
    boxTextMargin: 5,
    noteMargin: 10,
    messageMargin: 35,
    messageAlign: 'center',
    mirrorActors: true,
    bottomMarginAdj: 1,
    useMaxWidth: true,
    rightAngles: false,
    showSequenceNumbers: false,
  },
  gantt: {
    titleTopMargin: 25,
    barHeight: 20,
    barGap: 4,
    topPadding: 50,
    leftPadding: 75,
    gridLineStartPadding: 35,
    fontSize: 11,
    fontFamily: '"Open Sans", sans-serif',
    numberSectionStyles: 4,
    axisFormat: '%Y-%m-%d',
    topAxis: false,
    displayMode: '',
  },
};
mermaid.initialize(config);
```

#### Defined in

[mermaidAPI.ts:668](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L668)

## Functions

### appendDivSvgG

▸ **appendDivSvgG**(`parentRoot`, `id`, `enclosingDivId`, `divStyle?`, `svgXlink?`): `any`

Append an enclosing div, then svg, then g (group) to the d3 parentRoot. Set attributes.
Only set the style attribute on the enclosing div if divStyle is given.
Only set the xmlns:xlink attribute on svg if svgXlink is given.
Return the last node appended

#### Parameters

| Name             | Type     | Description                                      |
| :--------------- | :------- | :----------------------------------------------- |
| `parentRoot`     | `any`    | the d3 node to append things to                  |
| `id`             | `string` | the value to set the id attr to                  |
| `enclosingDivId` | `string` | the id to set the enclosing div to               |
| `divStyle?`      | `string` | if given, the style to set the enclosing div to  |
| `svgXlink?`      | `string` | if given, the link to set the new svg element to |

#### Returns

`any`

- returns the parentRoot that had nodes appended

#### Defined in

[mermaidAPI.ts:309](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L309)

---

### cleanUpSvgCode

▸ **cleanUpSvgCode**(`svgCode?`, `inSandboxMode`, `useArrowMarkerUrls`): `string`

Clean up svgCode. Do replacements needed

#### Parameters

| Name                 | Type      | Default value | Description                                                 |
| :------------------- | :-------- | :------------ | :---------------------------------------------------------- |
| `svgCode`            | `string`  | `''`          | the code to clean up                                        |
| `inSandboxMode`      | `boolean` | `undefined`   | security level                                              |
| `useArrowMarkerUrls` | `boolean` | `undefined`   | should arrow marker's use full urls? (vs. just the anchors) |

#### Returns

`string`

the cleaned up svgCode

#### Defined in

[mermaidAPI.ts:255](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L255)

---

### createCssStyles

▸ **createCssStyles**(`config`, `graphType`, `classDefs?`): `string`

Create the user styles

#### Parameters

| Name                          | Type                                                                                                                                                                                                                                                                                            | Description                                                                                                                                                                                                                                                                                                                                                    |
| :---------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `config`                      | `Object`                                                                                                                                                                                                                                                                                        | configuration that has style and theme settings to use                                                                                                                                                                                                                                                                                                         |
| `config.altFontFamily?`       | `string`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.arrowMarkerAbsolute?` | `boolean`                                                                                                                                                                                                                                                                                       | Controls whether or arrow markers in html code are absolute paths or anchors. This matters if you are using base tag settings.                                                                                                                                                                                                                                 |
| `config.c4?`                  | { diagramMarginX?: number \| undefined; diagramMarginY?: number \| undefined; c4ShapeMargin?: number \| undefined; c4ShapePadding?: number \| undefined; width?: number \| undefined; height?: number \| undefined; ... 135 more ...; useMaxWidth?: boolean \| undefined; }                     | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.class?`               | { titleTopMargin?: number \| undefined; arrowMarkerAbsolute?: boolean \| undefined; dividerMargin?: number \| undefined; padding?: number \| undefined; textHeight?: number \| undefined; ... 6 more ...; useMaxWidth?: boolean \| undefined; }                                                 | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.darkMode?`            | `boolean`                                                                                                                                                                                                                                                                                       | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.deterministicIDSeed?` | `string`                                                                                                                                                                                                                                                                                        | This option is the optional seed for deterministic ids. If set to `undefined` but deterministicIds is `true`, a simple number iterator is used. You can set this attribute to base the seed on a static string.                                                                                                                                                |
| `config.deterministicIds?`    | `boolean`                                                                                                                                                                                                                                                                                       | This option controls if the generated ids of nodes in the SVG are generated randomly or based on a seed. If set to `false`, the IDs are generated based on the current date and thus are not deterministic. This is the default behavior. This matters if your files are checked into source control e.g. git and should not change unless content is changed. |
| `config.dompurifyConfig?`     | { ADD_ATTR?: (string \| undefined)\[] \| undefined; ADD_DATA_URI_TAGS?: (string \| undefined)\[] \| undefined; ADD_TAGS?: (string \| undefined)\[] \| undefined; ADD_URI_SAFE_ATTR?: (string \| undefined)\[] \| undefined; ... 25 more ...; CUSTOM_ELEMENT_HANDLING?: { ...; } \| undefined; } | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.er?`                  | { titleTopMargin?: number \| undefined; diagramPadding?: number \| undefined; layoutDirection?: string \| undefined; minEntityWidth?: number \| undefined; minEntityHeight?: number \| undefined; ... 5 more ...; useMaxWidth?: boolean \| undefined; }                                         | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.flowchart?`           | { titleTopMargin?: number \| undefined; arrowMarkerAbsolute?: boolean \| undefined; diagramPadding?: number \| undefined; htmlLabels?: boolean \| undefined; nodeSpacing?: number \| undefined; ... 6 more ...; useMaxWidth?: boolean \| undefined; }                                           | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.fontFamily?`          | `string`                                                                                                                                                                                                                                                                                        | Specifies the font to be used in the rendered diagrams. Can be any possible CSS `font-family`. See <https://developer.mozilla.org/en-US/docs/Web/CSS/font-family>                                                                                                                                                                                              |
| `config.fontSize?`            | `number`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.gantt?`               | { titleTopMargin?: number \| undefined; barHeight?: number \| undefined; barGap?: number \| undefined; topPadding?: number \| undefined; rightPadding?: number \| undefined; leftPadding?: number \| undefined; ... 10 more ...; useMaxWidth?: boolean \| undefined; }                          | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.gitGraph?`            | { titleTopMargin?: number \| undefined; diagramPadding?: number \| undefined; nodeLabel?: { width?: number \| undefined; height?: number \| undefined; x?: number \| undefined; y?: number \| undefined; } \| undefined; ... 7 more ...; useMaxWidth?: boolean \| undefined; }                  | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.htmlLabels?`          | `boolean`                                                                                                                                                                                                                                                                                       | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.journey?`             | { diagramMarginX?: number \| undefined; diagramMarginY?: number \| undefined; leftMargin?: number \| undefined; width?: number \| undefined; height?: number \| undefined; boxMargin?: number \| undefined; ... 15 more ...; useMaxWidth?: boolean \| undefined; }                              | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.logLevel?`            | `string` \| `number`                                                                                                                                                                                                                                                                            | This option decides the amount of logging to be used by mermaid.                                                                                                                                                                                                                                                                                               |
| `config.maxTextSize?`         | `number`                                                                                                                                                                                                                                                                                        | The maximum allowed size of the users text diagram                                                                                                                                                                                                                                                                                                             |
| `config.mindmap?`             | { padding?: number \| undefined; maxNodeWidth?: number \| undefined; useWidth?: number \| undefined; useMaxWidth?: boolean \| undefined; }                                                                                                                                                      | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.pie?`                 | { textPosition?: number \| undefined; useWidth?: number \| undefined; useMaxWidth?: boolean \| undefined; }                                                                                                                                                                                     | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.quadrantChart?`       | { chartWidth?: number \| undefined; chartHeight?: number \| undefined; titleFontSize?: number \| undefined; titlePadding?: number \| undefined; quadrantPadding?: number \| undefined; ... 14 more ...; useMaxWidth?: boolean \| undefined; }                                                   | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.requirement?`         | { rect_fill?: string \| undefined; text_color?: string \| undefined; rect_border_size?: string \| undefined; rect_border_color?: string \| undefined; rect_min_width?: number \| undefined; ... 5 more ...; useMaxWidth?: boolean \| undefined; }                                               | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.sankey?`              | { width?: number \| undefined; height?: number \| undefined; linkColor?: string \| undefined; nodeAlignment?: "left" \| "right" \| "center" \| "justify" \| undefined; useMaxWidth?: boolean \| undefined; useWidth?: number \| undefined; }                                                    | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.secure?`              | (`undefined` \| `string`)\[]                                                                                                                                                                                                                                                                    | This option controls which `currentConfig` keys are considered secure and can only be changed via call to `mermaidAPI.initialize`. Calls to `mermaidAPI.reinitialize` cannot make changes to the secure keys in the current `currentConfig`. This prevents malicious graph directives from overriding a site's default security.                               |
| `config.securityLevel?`       | `string`                                                                                                                                                                                                                                                                                        | Level of trust for parsed diagram                                                                                                                                                                                                                                                                                                                              |
| `config.sequence?`            | { arrowMarkerAbsolute?: boolean \| undefined; hideUnusedParticipants?: boolean \| undefined; activationWidth?: number \| undefined; diagramMarginX?: number \| undefined; diagramMarginY?: number \| undefined; ... 31 more ...; useMaxWidth?: boolean \| undefined; }                          | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.startOnLoad?`         | `boolean`                                                                                                                                                                                                                                                                                       | Dictates whether mermaid starts on Page load                                                                                                                                                                                                                                                                                                                   |
| `config.state?`               | { titleTopMargin?: number \| undefined; arrowMarkerAbsolute?: boolean \| undefined; dividerMargin?: number \| undefined; sizeUnit?: number \| undefined; padding?: number \| undefined; ... 14 more ...; useMaxWidth?: boolean \| undefined; }                                                  | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.theme?`               | `string`                                                                                                                                                                                                                                                                                        | Theme, the CSS style sheet. You may also use `themeCSS` to override this value.                                                                                                                                                                                                                                                                                |
| `config.themeCSS?`            | `string`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.themeVariables?`      | `any`                                                                                                                                                                                                                                                                                           | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.timeline?`            | { diagramMarginX?: number \| undefined; diagramMarginY?: number \| undefined; leftMargin?: number \| undefined; width?: number \| undefined; height?: number \| undefined; padding?: number \| undefined; ... 17 more ...; useMaxWidth?: boolean \| undefined; }                                | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.wrap?`                | `boolean`                                                                                                                                                                                                                                                                                       | -                                                                                                                                                                                                                                                                                                                                                              |
| `graphType`                   | `string`                                                                                                                                                                                                                                                                                        | used for checking if classDefs should be applied                                                                                                                                                                                                                                                                                                               |
| `classDefs`                   | `undefined` \| `null` \| `Record`<`string`, `DiagramStyleClassDef`>                                                                                                                                                                                                                             | the classDefs in the diagram text. Might be null if none were defined. Usually is the result of a call to getClasses(...)                                                                                                                                                                                                                                      |

#### Returns

`string`

the string with all the user styles

#### Defined in

[mermaidAPI.ts:184](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L184)

---

### createUserStyles

▸ **createUserStyles**(`config`, `graphType`, `classDefs`, `svgId`): `string`

#### Parameters

| Name                          | Type                                                                                                                                                                                                                                                                                            | Description                                                                                                                                                                                                                                                                                                                                                    |
| :---------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `config`                      | `Object`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.altFontFamily?`       | `string`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.arrowMarkerAbsolute?` | `boolean`                                                                                                                                                                                                                                                                                       | Controls whether or arrow markers in html code are absolute paths or anchors. This matters if you are using base tag settings.                                                                                                                                                                                                                                 |
| `config.c4?`                  | { diagramMarginX?: number \| undefined; diagramMarginY?: number \| undefined; c4ShapeMargin?: number \| undefined; c4ShapePadding?: number \| undefined; width?: number \| undefined; height?: number \| undefined; ... 135 more ...; useMaxWidth?: boolean \| undefined; }                     | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.class?`               | { titleTopMargin?: number \| undefined; arrowMarkerAbsolute?: boolean \| undefined; dividerMargin?: number \| undefined; padding?: number \| undefined; textHeight?: number \| undefined; ... 6 more ...; useMaxWidth?: boolean \| undefined; }                                                 | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.darkMode?`            | `boolean`                                                                                                                                                                                                                                                                                       | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.deterministicIDSeed?` | `string`                                                                                                                                                                                                                                                                                        | This option is the optional seed for deterministic ids. If set to `undefined` but deterministicIds is `true`, a simple number iterator is used. You can set this attribute to base the seed on a static string.                                                                                                                                                |
| `config.deterministicIds?`    | `boolean`                                                                                                                                                                                                                                                                                       | This option controls if the generated ids of nodes in the SVG are generated randomly or based on a seed. If set to `false`, the IDs are generated based on the current date and thus are not deterministic. This is the default behavior. This matters if your files are checked into source control e.g. git and should not change unless content is changed. |
| `config.dompurifyConfig?`     | { ADD_ATTR?: (string \| undefined)\[] \| undefined; ADD_DATA_URI_TAGS?: (string \| undefined)\[] \| undefined; ADD_TAGS?: (string \| undefined)\[] \| undefined; ADD_URI_SAFE_ATTR?: (string \| undefined)\[] \| undefined; ... 25 more ...; CUSTOM_ELEMENT_HANDLING?: { ...; } \| undefined; } | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.er?`                  | { titleTopMargin?: number \| undefined; diagramPadding?: number \| undefined; layoutDirection?: string \| undefined; minEntityWidth?: number \| undefined; minEntityHeight?: number \| undefined; ... 5 more ...; useMaxWidth?: boolean \| undefined; }                                         | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.flowchart?`           | { titleTopMargin?: number \| undefined; arrowMarkerAbsolute?: boolean \| undefined; diagramPadding?: number \| undefined; htmlLabels?: boolean \| undefined; nodeSpacing?: number \| undefined; ... 6 more ...; useMaxWidth?: boolean \| undefined; }                                           | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.fontFamily?`          | `string`                                                                                                                                                                                                                                                                                        | Specifies the font to be used in the rendered diagrams. Can be any possible CSS `font-family`. See <https://developer.mozilla.org/en-US/docs/Web/CSS/font-family>                                                                                                                                                                                              |
| `config.fontSize?`            | `number`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.gantt?`               | { titleTopMargin?: number \| undefined; barHeight?: number \| undefined; barGap?: number \| undefined; topPadding?: number \| undefined; rightPadding?: number \| undefined; leftPadding?: number \| undefined; ... 10 more ...; useMaxWidth?: boolean \| undefined; }                          | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.gitGraph?`            | { titleTopMargin?: number \| undefined; diagramPadding?: number \| undefined; nodeLabel?: { width?: number \| undefined; height?: number \| undefined; x?: number \| undefined; y?: number \| undefined; } \| undefined; ... 7 more ...; useMaxWidth?: boolean \| undefined; }                  | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.htmlLabels?`          | `boolean`                                                                                                                                                                                                                                                                                       | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.journey?`             | { diagramMarginX?: number \| undefined; diagramMarginY?: number \| undefined; leftMargin?: number \| undefined; width?: number \| undefined; height?: number \| undefined; boxMargin?: number \| undefined; ... 15 more ...; useMaxWidth?: boolean \| undefined; }                              | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.logLevel?`            | `string` \| `number`                                                                                                                                                                                                                                                                            | This option decides the amount of logging to be used by mermaid.                                                                                                                                                                                                                                                                                               |
| `config.maxTextSize?`         | `number`                                                                                                                                                                                                                                                                                        | The maximum allowed size of the users text diagram                                                                                                                                                                                                                                                                                                             |
| `config.mindmap?`             | { padding?: number \| undefined; maxNodeWidth?: number \| undefined; useWidth?: number \| undefined; useMaxWidth?: boolean \| undefined; }                                                                                                                                                      | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.pie?`                 | { textPosition?: number \| undefined; useWidth?: number \| undefined; useMaxWidth?: boolean \| undefined; }                                                                                                                                                                                     | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.quadrantChart?`       | { chartWidth?: number \| undefined; chartHeight?: number \| undefined; titleFontSize?: number \| undefined; titlePadding?: number \| undefined; quadrantPadding?: number \| undefined; ... 14 more ...; useMaxWidth?: boolean \| undefined; }                                                   | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.requirement?`         | { rect_fill?: string \| undefined; text_color?: string \| undefined; rect_border_size?: string \| undefined; rect_border_color?: string \| undefined; rect_min_width?: number \| undefined; ... 5 more ...; useMaxWidth?: boolean \| undefined; }                                               | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.sankey?`              | { width?: number \| undefined; height?: number \| undefined; linkColor?: string \| undefined; nodeAlignment?: "left" \| "right" \| "center" \| "justify" \| undefined; useMaxWidth?: boolean \| undefined; useWidth?: number \| undefined; }                                                    | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.secure?`              | (`undefined` \| `string`)\[]                                                                                                                                                                                                                                                                    | This option controls which `currentConfig` keys are considered secure and can only be changed via call to `mermaidAPI.initialize`. Calls to `mermaidAPI.reinitialize` cannot make changes to the secure keys in the current `currentConfig`. This prevents malicious graph directives from overriding a site's default security.                               |
| `config.securityLevel?`       | `string`                                                                                                                                                                                                                                                                                        | Level of trust for parsed diagram                                                                                                                                                                                                                                                                                                                              |
| `config.sequence?`            | { arrowMarkerAbsolute?: boolean \| undefined; hideUnusedParticipants?: boolean \| undefined; activationWidth?: number \| undefined; diagramMarginX?: number \| undefined; diagramMarginY?: number \| undefined; ... 31 more ...; useMaxWidth?: boolean \| undefined; }                          | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.startOnLoad?`         | `boolean`                                                                                                                                                                                                                                                                                       | Dictates whether mermaid starts on Page load                                                                                                                                                                                                                                                                                                                   |
| `config.state?`               | { titleTopMargin?: number \| undefined; arrowMarkerAbsolute?: boolean \| undefined; dividerMargin?: number \| undefined; sizeUnit?: number \| undefined; padding?: number \| undefined; ... 14 more ...; useMaxWidth?: boolean \| undefined; }                                                  | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.theme?`               | `string`                                                                                                                                                                                                                                                                                        | Theme, the CSS style sheet. You may also use `themeCSS` to override this value.                                                                                                                                                                                                                                                                                |
| `config.themeCSS?`            | `string`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.themeVariables?`      | `any`                                                                                                                                                                                                                                                                                           | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.timeline?`            | { diagramMarginX?: number \| undefined; diagramMarginY?: number \| undefined; leftMargin?: number \| undefined; width?: number \| undefined; height?: number \| undefined; padding?: number \| undefined; ... 17 more ...; useMaxWidth?: boolean \| undefined; }                                | -                                                                                                                                                                                                                                                                                                                                                              |
| `config.wrap?`                | `boolean`                                                                                                                                                                                                                                                                                       | -                                                                                                                                                                                                                                                                                                                                                              |
| `graphType`                   | `string`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |
| `classDefs`                   | `Record`<`string`, `DiagramStyleClassDef`>                                                                                                                                                                                                                                                      | -                                                                                                                                                                                                                                                                                                                                                              |
| `svgId`                       | `string`                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                              |

#### Returns

`string`

#### Defined in

[mermaidAPI.ts:232](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L232)

---

### cssImportantStyles

▸ **cssImportantStyles**(`cssClass`, `element`, `cssClasses?`): `string`

Create a CSS style that starts with the given class name, then the element,
with an enclosing block that has each of the cssClasses followed by !important;

#### Parameters

| Name         | Type        | Default value | Description                                    |
| :----------- | :---------- | :------------ | :--------------------------------------------- |
| `cssClass`   | `string`    | `undefined`   | CSS class name                                 |
| `element`    | `string`    | `undefined`   | CSS element                                    |
| `cssClasses` | `string`\[] | `[]`          | list of CSS styles to append after the element |

#### Returns

`string`

- the constructed string

#### Defined in

[mermaidAPI.ts:168](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L168)

---

### decodeEntities

▸ **decodeEntities**(`text`): `string`

#### Parameters

| Name   | Type     | Description        |
| :----- | :------- | :----------------- |
| `text` | `string` | text to be decoded |

#### Returns

`string`

#### Defined in

[mermaidAPI.ts:154](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L154)

---

### encodeEntities

▸ **encodeEntities**(`text`): `string`

#### Parameters

| Name   | Type     | Description        |
| :----- | :------- | :----------------- |
| `text` | `string` | text to be encoded |

#### Returns

`string`

#### Defined in

[mermaidAPI.ts:125](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L125)

---

### putIntoIFrame

▸ **putIntoIFrame**(`svgCode?`, `svgElement?`): `string`

Put the svgCode into an iFrame. Return the iFrame code

#### Parameters

| Name          | Type     | Default value | Description                                                                  |
| :------------ | :------- | :------------ | :--------------------------------------------------------------------------- |
| `svgCode`     | `string` | `''`          | the svg code to put inside the iFrame                                        |
| `svgElement?` | `any`    | `undefined`   | the d3 node that has the current svgElement so we can get the height from it |

#### Returns

`string`

- the code with the iFrame that now contains the svgCode
  TODO replace btoa(). Replace with buf.toString('base64')?

#### Defined in

[mermaidAPI.ts:286](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L286)

---

### removeExistingElements

▸ **removeExistingElements**(`doc`, `id`, `divId`, `iFrameId`): `void`

Remove any existing elements from the given document

#### Parameters

| Name       | Type       | Description                           |
| :--------- | :--------- | :------------------------------------ |
| `doc`      | `Document` | the document to removed elements from |
| `id`       | `string`   | id for any existing SVG element       |
| `divId`    | `string`   | -                                     |
| `iFrameId` | `string`   | -                                     |

#### Returns

`void`

#### Defined in

[mermaidAPI.ts:359](https://github.com/mermaid-js/mermaid/blob/master/packages/mermaid/src/mermaidAPI.ts#L359)
